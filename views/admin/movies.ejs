<section id="admin-section">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">                
                <table class="table table-striped table-hover table-sm">
                    <thead class="thead-inverse">
                        <tr>
                            <th>Actions</th>
                            <th>#</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Sortie salles</th>
                            <th>Sortie TV</th>
                            <th>Pays de production</th>
                            <th>Durée</th>
                            <th>Affiche</th>
                            <th>Vidéo URL</th>
                            <th>Synopsis</th>
                            <th>Diff. TV</th>
                            <th>Genre</th>
                            <th>Créé</th>
                            <th>MAJ</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <%_
                        videoMedias.forEach(function(videoMedia){
                        _%>
                        <tr>
                            <td>
                                <button class="edit-button"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                                <button class="save-button" data-target="films"><i class="fa fa-floppy-o" aria-hidden="true"></i></button>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.id _%></div>
                                <div class="edit-field"><input type="text" name="id" disabled value="<%= videoMedia.id _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.name _%></div>
                                <div class="edit-field"><input type="text" name="name" value="<%= videoMedia.name _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%- videoMedia.description.length > 200 ? videoMedia.description.substring(0, 200) + '<span>&hellip;</span>' : videoMedia.description _%></div>
                                <div class="edit-field"><textarea name="description"><%= videoMedia.description _%></textarea></div>
                            </td>
                            <td>
                                <div class="display-field"><%= moment(videoMedia.theater_release_date).format('DD-MMMM-YYYY') _%></div>
                                <div class="edit-field"><input type="text" name="theater_release_date" value="<%= moment(videoMedia.theater_release_date).format('DD-MMMM-YYYY') _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= moment(videoMedia.tv_release_date).format('DD-MMMM-YYYY') _%></div>
                                <div class="edit-field"><input type="text" name="tv_release_date" value="<%= moment(videoMedia.tv_release_date).format('DD-MMMM-YYYY') _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.release_country _%></div>
                                <div class="edit-field"><input type="text" name="release_country" value="<%= videoMedia.release_country _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.duration _%></div>
                                <div class="edit-field"><input type="text" name="duration" value="<%= videoMedia.duration _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.name _%></div>
                                <div class="edit-field"><input type="text" name="name2" disabled value="<%= videoMedia.name _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.video_url _%></div>
                                <div class="edit-field"><input type="text" name="video_url" value="<%= videoMedia.video_url _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%- videoMedia.synopsis.length > 200 ? videoMedia.synopsis.substring(0, 200) + '<span>&hellip;</span>' : videoMedia.synopsis _%></div>
                                <div class="edit-field"><textarea name="synopsis"><%= videoMedia.synopsis _%></textarea></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.tv_broadcaster _%></div>
                                <div class="edit-field"><input type="text" name="tv_broadcaster" value="<%= videoMedia.tv_broadcaster _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= videoMedia.mediaGenre.name _%></div>
                                <div class="edit-field">
                                    <select name="media_genre_id" data-field-name="mediaGenre">
                                        <%_ genres.forEach(function(genre){ _%>
                                        <option value="<%= genre.id _%>"<%= videoMedia.mediaGenre.id === genre.id ? ' selected' : ''_%>><%= genre.name _%></option>
                                        <%_ }); _%>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="display-field"><%= moment(videoMedia.created_at).format('DD-MMMM-YYYY') _%></div>
                                <div class="edit-field"><input type="text" disabled value="<%= moment(videoMedia.created_at).format('DD-MMMM-YYYY') _%>" /></div>
                            </td>
                            <td>
                                <div class="display-field"><%= moment(videoMedia.updated_at).format('DD-MMMM-YYYY') _%></div>
                                <div class="edit-field"><input type="text" disabled value="<%= moment(videoMedia.updated_at).format('DD-MMMM-YYYY') _%>" /></div>
                            </td>
                            <td>
                                <button class="edit-button"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                                <button class="save-button" data-target="films"><i class="fa fa-floppy-o" aria-hidden="true"></i></button>
                            </td>
                        </tr>
                        <%_
                        });
                        _%>
                    </tbody>
                </table>                
                <div class="progress">
                    <div class="progress-bar" role="progressbar"></div>
                </div>
                <button class="upload-button">upload</button>
                <input type="file" id="file-upload" style="display: none;" name="file-upload" />                
            </div>
        </div>
    </div>
</section>
<%- contentFor('bodyClass') %>
class="admin"
<%- contentFor('extraScripts') %>
<script type="text/javascript" src="/js/common.js"></script>
<script type="text/javascript" src="/js/mainAdmin.js"></script>